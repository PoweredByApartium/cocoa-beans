<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-07-07T12:59:39.348316734"><title>‚ùì Optional Argument | Cocoa Beans</title><script type="application/json" id="virtual-toc-data">[{"id":"optional","level":0,"title":"Optional","anchor":"#optional"},{"id":"fail-safe-optional-arguments","level":0,"title":"Fail-safe optional arguments","anchor":"#fail-safe-optional-arguments"},{"id":"how-can-we-use-both-of-them","level":0,"title":"How can we use both of them","anchor":"#how-can-we-use-both-of-them"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="‚ùì Optional Argument | Cocoa Beans"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Cocoa Beans Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//snapshot/optional-argument.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="‚ùì Optional Argument | Cocoa Beans"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//snapshot/optional-argument.html#webpage",
    "url": "writerside-documentation//snapshot/optional-argument.html",
    "name": "‚ùì Optional Argument | Cocoa Beans",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Cocoa Beans Help"
}</script><!-- End Schema.org --></head><body data-id="optional-argument" data-main-title="‚ùì Optional Argument" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="commands.md|üíª The command system///examples.md|üìå Examples"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Cocoa Beans snapshot Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="optional-argument" id="optional-argument.md">‚ùì Optional Argument</h1><p id="dvd66s_2">An optional argument can have 2 forms:</p><ol class="list _decimal" id="dvd66s_3" type="1"><li class="list__item" id="dvd66s_4"><p><span class="control" id="dvd66s_5">Optional</span> <code class="code" id="dvd66s_6">if the argument is not specified it will just be empty / null</code></p></li><li class="list__item" id="dvd66s_7"><p><span class="control" id="dvd66s_8">Invalid</span> <code class="code" id="dvd66s_9">if parser couldn't parse given argument</code></p></li></ol><p id="dvd66s_10">We can use optional arguments where the last arguments are not required.</p><p id="dvd66s_11">Imagine a players runs the command <code class="code" id="dvd66s_12">/give ikfir diamond</code>. We accept an optional int param but it wasn't specified, so the code falls back to 1. The player can still get more by running <code class="code" id="dvd66s_13">/give ikfir diamond 32</code>.</p><div class="code-block" data-lang="java">
@Command(&quot;give&quot;)
public class GiveCommand implements CommandNode {
 
    @SubCommand(&quot;&lt;player&gt; &lt;item&gt; &lt;?int&gt;&quot;)
    public void give(Sender sender, Player target, Item item, OptionalInt optAmount) {
        int amount = optAmount.orElse(1);
        if (amount &lt;= 0) {
            sender.sendMessage(&quot;invalid amount&quot;);
            return;
        }
        
        // Do something
    }
    
}
</div><p id="dvd66s_15">Look closely at the <code class="code" id="dvd66s_16">@SubCommand</code> annotation: the last argument contains a <code class="code" id="dvd66s_17">?</code> operator, which tells the command system it is an optional argument. Optional arguments can also use java's Optional classes to provide null safety.</p><section class="chapter"><h2 id="optional" data-toc="optional">Optional</h2><p id="dvd66s_18">As mentioned above, optional arguments can be set by using the <code class="code" id="dvd66s_19">?</code> operator. For example, <code class="code" id="dvd66s_20">&lt;int&gt;</code> is the normal form where the optional form is <code class="code" id="dvd66s_21">&lt;?int&gt;</code></p><div class="code-block" data-lang="java">
@Command(&quot;example&quot;)
public class ExampleCommand implements CommandNode {
 
    @SubCommand(&quot;&lt;?int&gt;&quot;)
    public void example(Sender sender, OptionalInt optNum) {
        // Do something
    }
    
}
</div><p id="dvd66s_23">When we run <code class="code" id="dvd66s_24">example</code> without any args it will call <code class="code" id="dvd66s_25">ExampleCommand#example</code> with optNum as <code class="code" id="dvd66s_26">OptionalInt#empty</code> But when we will try to run it with a number as arg, For example <code class="code" id="dvd66s_27">example 42</code> it will call the same function <code class="code" id="dvd66s_28">ExampleCommand#example</code> with optNum as 42</p><p id="dvd66s_29">However, if we will try to run <code class="code" id="dvd66s_30">example 42a</code> it will not call <code class="code" id="dvd66s_31">ExampleCommand#example</code>, because 42a isn't a valid <code class="code" id="dvd66s_32">int</code>. To avoid failing parsing, we can use failsafe optional arguments.</p></section><section class="chapter"><h2 id="fail-safe-optional-arguments" data-toc="fail-safe-optional-arguments">Fail-safe optional arguments</h2><p id="dvd66s_33">Fail safe optional arguments can be indicated with the <code class="code" id="dvd66s_34">!</code> operator, for example:</p><ul class="list _bullet" id="dvd66s_35"><li class="list__item" id="dvd66s_36"><p><code class="code" id="dvd66s_37">&lt;int&gt;</code> for normal args</p></li><li class="list__item" id="dvd66s_38"><p><code class="code" id="dvd66s_39">&lt;?int&gt;</code> for optional args</p></li><li class="list__item" id="dvd66s_40"><p><code class="code" id="dvd66s_41">&lt;!int&gt;</code> for fail-safe optional args</p></li><li class="list__item" id="dvd66s_42"><p><code class="code" id="dvd66s_43">&lt;?!int&gt;</code> for a combination of optional and fail safe (more on that later)</p></li></ul><div class="code-block" data-lang="java">
@Command(&quot;example&quot;)
public class ExampleCommand implements CommandNode {
 
    @SubCommand(&quot;&lt;!int&gt;&quot;)
    public void example(Sender sender, OptionalInt optNum) {
        // Do something
    }
    
}
</div><p id="dvd66s_45">This time when we run <code class="code" id="dvd66s_46">example</code> without any args it will not call <code class="code" id="dvd66s_47">ExampleCommand#example</code> because parser will not be called for no arguments and that will not result in invalid parsing.</p><p id="dvd66s_48">But when we will try to run <code class="code" id="dvd66s_49">example 45a</code> the system will call <code class="code" id="dvd66s_50">ExampleCommand#example</code> with optNum <code class="code" id="dvd66s_51">OptionalInt#empty</code>. Lastly it will give as same result if parser has parser successfully it will just put parser value.</p><p id="dvd66s_52">Of course, if we call <code class="code" id="dvd66s_53">example 45</code> the system will call <code class="code" id="dvd66s_54">ExampleCommand#example</code> with 45 as argument.</p></section><section class="chapter"><h2 id="how-can-we-use-both-of-them" data-toc="how-can-we-use-both-of-them">How can we use both of them</h2><p id="dvd66s_55">Using fail-safe arguments might not make much sense on their one, but we can combine them with optional arguments. It will make the command variation run if either the argument was not specified, or the player specified an invalid argument. We could do it very simply by just using following syntax <code class="code" id="dvd66s_56">?!</code> or <code class="code" id="dvd66s_57">!?</code></p><div class="code-block" data-lang="java">
@Command(&quot;example&quot;)
public class ExampleCommand implements CommandNode {
 
    @SubCommand(&quot;&lt;?!int&gt;&quot;)
    public void example(Sender sender, OptionalInt optNum) {
        // Do something
    }
    
}
</div></section><div class="last-modified">Last modified: 07 July 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="simple-custom-argument-types.html" class="navigation-links__prev">üìù Simple custom argument types</a><a href="advanced-reusable-parsers.html" class="navigation-links__next">üîê Advanced reusable parsers</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>