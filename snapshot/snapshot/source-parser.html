<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-07-12T15:51:37.974611823"><title>üóÉÔ∏è Source parser | Cocoa Beans</title><script type="application/json" id="virtual-toc-data">[{"id":"what-is-source-parser","level":0,"title":"What is source parser","anchor":"#what-is-source-parser"},{"id":"usage","level":0,"title":"Usage","anchor":"#usage"},{"id":"where-should-you-use-source-parser","level":0,"title":"Where should you use Source parser","anchor":"#where-should-you-use-source-parser"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="üóÉÔ∏è Source parser | Cocoa Beans"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Cocoa Beans Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//snapshot/source-parser.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="üóÉÔ∏è Source parser | Cocoa Beans"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//snapshot/source-parser.html#webpage",
    "url": "writerside-documentation//snapshot/source-parser.html",
    "name": "üóÉÔ∏è Source parser | Cocoa Beans",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Cocoa Beans Help"
}</script><!-- End Schema.org --></head><body data-id="source-parser" data-main-title="üóÉÔ∏è Source parser" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="commands.md|üíª The command system///examples.md|üìå Examples"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Cocoa Beans snapshot Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="source-parser" id="source-parser.md">üóÉÔ∏è Source parser</h1><p id="cpci6u_2"><span class="control" id="cpci6u_3">Table of content:</span></p><ul class="list _bullet" id="cpci6u_4"><li class="list__item" id="cpci6u_5"><p><a href="#introduction" id="cpci6u_6" data-tooltip="Table of content:">Introduction</a></p></li><li class="list__item" id="cpci6u_7"><p><a href="#what-is-source-parser" id="cpci6u_8" data-tooltip="Source parser are above function that return Map of String as key and Object as value obj could be anything You can just return instead of Object an enum value Map&lt;String, GameMode&gt; Source parser are just an simple way to create key value peer parser Also source parser have 4‚Ä¶">What is source parser</a></p></li><li class="list__item" id="cpci6u_9"><p><a href="#usage" id="cpci6u_10" data-tooltip="@Command(&quot;random-command&quot;) public class RandomCommand implements CommandNode { // result max age in mills set to -1 because enum shouldn't be // change on runtime it should be one time calculation @SourceParser( keyword = &quot;stage&quot;, clazz = GameStage.class,‚Ä¶">Usage</a></p></li><li class="list__item" id="cpci6u_11"><p><a href="#where-should-you-use-source-parser" id="cpci6u_12" data-tooltip="Source parser should be used when you key value peer as">When to use it</a></p></li></ul><p id="cpci6u_13"><br> Source parser are simple way to create parser</p><section class="chapter"><h2 id="what-is-source-parser" data-toc="what-is-source-parser">What is source parser</h2><p id="cpci6u_14">Source parser are above function that return Map of <code class="code" id="cpci6u_15">String</code> as key and <code class="code" id="cpci6u_16">Object</code> as value obj could be anything You can just return instead of <code class="code" id="cpci6u_17">Object</code> an enum value <code class="code" id="cpci6u_18">Map&lt;String, GameMode&gt;</code><br> Source parser are just an simple way to create key value peer parser <br> Also source parser have 4 arguments 2 of them are most have <br><sub class="subscript" id="cpci6u_22">* is for must have argument</sub></p><ul class="list _bullet" id="cpci6u_23"><li class="list__item" id="cpci6u_24"><p><code class="code" id="cpci6u_25">keyword</code>* The Keyword that triggers the parser</p></li><li class="list__item" id="cpci6u_26"><p><code class="code" id="cpci6u_27">priority</code> (default 0) Parser priority</p></li><li class="list__item" id="cpci6u_28"><p><code class="code" id="cpci6u_29">clazz</code>* The return type of the parser</p></li><li class="list__item" id="cpci6u_30"><p><code class="code" id="cpci6u_31">resultMaxAgeInMills</code> (default 0) The max age of the result in milliseconds</p></li><li class="list__item" id="cpci6u_32"><p><code class="code" id="cpci6u_33">ignoreCase</code> (default false) If it will check if it equalIgnore case instead just equal</p></li><li class="list__item" id="cpci6u_34"><p><code class="code" id="cpci6u_35">lax</code> (default false) Whether or not it lazy mapping <code class="code" id="cpci6u_36">(Lazy mapping will try to auto complete your label)</code></p></li></ul><section class="chapter"><h3 id="more-about-priority" data-toc="more-about-priority">More about priority</h3><p id="cpci6u_37">If we have multiple parser not with the same keyword but for our example <code class="code" id="cpci6u_38">IntParser</code> &amp; <code class="code" id="cpci6u_39">StringParser</code> We will want <code class="code" id="cpci6u_40">IntParser</code> to try to parse first so his priority will be higher then <code class="code" id="cpci6u_41">StringParser</code></p><section class="chapter"><h4 id="more-about-resultmaxageinmills" data-toc="more-about-resultmaxageinmills">More about resultMaxAgeInMills</h4><p id="cpci6u_42">When the result is older it will be discarded the next time someone use the parser And if you set it to <code class="code" id="cpci6u_43">0</code> it will always be discarded But if you want the result to never be discarded for example enum class You just set it to <code class="code" id="cpci6u_44">-1</code></p></section></section><section class="chapter"><h3 id="more-about-lax" data-toc="more-about-lax">More about lax</h3><p id="cpci6u_45">Lax is Lazy mapping but what is Lazy mapping?</p><p id="cpci6u_46">Lazy mapping will try to autofill your command for example if you type</p><div class="code-block" data-lang="none">
/gamemode c
</div><p id="cpci6u_48">And lax is on it will complete it to</p><div class="code-block" data-lang="none">
/gamemode creative
</div><p id="cpci6u_50">If there is a collision like</p><div class="code-block" data-lang="none">
/gamemode s
</div><p id="cpci6u_52">It could be both <code class="code" id="cpci6u_53">survival</code> &amp; <code class="code" id="cpci6u_54">specator</code> So in that case it would ignore it and throw an exception it could be handle with <code class="code" id="cpci6u_55">@ExceptionHandle</code></p></section></section><section class="chapter"><h2 id="usage" data-toc="usage">Usage</h2><div class="tabs" id="cpci6u_56" data-anchors="[cpci6u_57,cpci6u_59]"><div class="tabs__content" data-gtm="tab" id="cpci6u_57" data-title="RandomCommand.java"><div class="code-block" data-lang="java" data-title="Java">
@Command(&quot;random-command&quot;)
public class RandomCommand implements CommandNode {

    // result max age in mills set to -1 because enum shouldn't be 
    // change on runtime it should be one time calculation
    @SourceParser(
            keyword = &quot;stage&quot;,
            clazz = GameStage.class,
            resultMaxAgeInMills = -1
    )
    public Map&lt;String, GameStage&gt; getGameStages() {
        return Arrays.stream(GameStage.values())
                .collect(Collectors.toMap(
                    value -&gt; value.name.toLowerCase(),
                    value -&gt; value
            ));
    }
    
    // We could use it like so
    @SubCommand(&quot;set stage &lt;stage&gt;&quot;)
    public void setStage(Sender sender, GameStage stage) {
        // Do something
    }

}

</div></div><div class="tabs__content" data-gtm="tab" id="cpci6u_59" data-title="GameStage.java"><div class="code-block" data-lang="java" data-title="Java">
public enum GameStage {
    WAITING,
    STARTING,
    ON_GOING,
    ENDING,
    CLOSING,
    FAILED,
    UNKNOWN
}
</div></div></div></section><section class="chapter"><h2 id="where-should-you-use-source-parser" data-toc="where-should-you-use-source-parser">Where should you use Source parser</h2><p id="cpci6u_61">Source parser should be used when you key value peer as</p><ul class="list _bullet" id="cpci6u_62"><li class="list__item" id="cpci6u_63"><p>list of player</p></li><li class="list__item" id="cpci6u_64"><p>list of materials</p></li><li class="list__item" id="cpci6u_65"><p>etc</p></li></ul></section><div class="last-modified">Last modified: 07 July 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="polymorphic-command-declaration.html" class="navigation-links__prev">üß¨ Polymorphic command declaration</a><a href="command-information.html" class="navigation-links__next">‚ÑπÔ∏è Command Information</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>