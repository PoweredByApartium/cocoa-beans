<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-08-08T17:11:22.591226448"><title>👥 DisplayTeam | Cocoa Beans</title><script type="application/json" id="virtual-toc-data">[{"id":"introduction","level":0,"title":"Introduction","anchor":"#introduction"},{"id":"showcase","level":0,"title":"Showcase","anchor":"#showcase"},{"id":"usage","level":0,"title":"Usage","anchor":"#usage"},{"id":"sorting-tab-list","level":0,"title":"Sorting Tab-list","anchor":"#sorting-tab-list"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="👥 DisplayTeam | Cocoa Beans"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Cocoa Beans Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//snapshot/display-team.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="👥 DisplayTeam | Cocoa Beans"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//snapshot/display-team.html#webpage",
    "url": "writerside-documentation//snapshot/display-team.html",
    "name": "👥 DisplayTeam | Cocoa Beans",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Cocoa Beans Help"
}</script><!-- End Schema.org --></head><body data-id="display-team" data-main-title="👥 DisplayTeam" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="scoreboard-api.md|📊 Scoreboard Api"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Cocoa Beans snapshot Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="display-team" id="display-team.md">👥 DisplayTeam</h1><section class="chapter"><h2 id="introduction" data-toc="introduction">Introduction</h2><p id="-bycvv6_2">The <code class="code" id="-bycvv6_3">DisplayTeam</code> api is a packet-level NMS-driven team display controller designed for Minecraft. It integrates seamlessly with UI systems by leveraging Observable state objects to ensure efficient updates across player clients.</p><p id="-bycvv6_4">Unlike typical Bukkit or API-level teams, <code class="code" id="-bycvv6_5">DisplayTeam</code> is optimized for direct manipulation via packets, making it extremely responsive and suitable for custom teams, overlays, or nametag modifications in real time. While giving you more free control over who see your teams</p></section><section class="chapter"><h2 id="showcase" data-toc="showcase">Showcase</h2><figure id="-bycvv6_6"><img alt="team-tab-priority.png" src="images/team-tab-priority.png" title="team-tab-priority.png" width="815" height="890"></figure><p id="-bycvv6_7"><sub class="subscript" id="-bycvv6_8"><a href="#sorting-tab-list" id="-bycvv6_9" data-tooltip="In Minecraft, the tab list (player list) can be sorted using teams, where the team name determines the sort priority.">Sorting Tab-list</a></sub></p><figure id="-bycvv6_10"><img alt="image.png" src="images/image.png" title="image.png" width="478" height="239"></figure><p id="-bycvv6_11"><sub class="subscript" id="-bycvv6_12">Ability to set viewers</sub></p><figure data-theme="light" id="-bycvv6_13" width="261"><img alt="tab-animation.gif" class="js-gif article__bordered-element" data-gif-src="images/tab-animation.gif" width="261" style="width: 261px;"></figure><p id="-bycvv6_14"><sub class="subscript" id="-bycvv6_15">Animation support using Observable</sub></p></section><section class="chapter"><h2 id="usage" data-toc="usage">Usage</h2><p id="-bycvv6_16">Here is an example of using the API with Spigot. You will have to implement a custom Team manager to manage active teams and their references. <span class="control" id="-bycvv6_17">Beware</span> that you will need to create your own manager and decide how to manage teams I will keep it simple here is simple manager</p><div class="code-block" data-lang="java" data-disable-link-processing="true">    public class TeamManager {

        private final Map&lt;String, SpigotDisplayTeam&gt; teams = new HashMap&lt;&gt;();

        private final SpigotViewerGroup group = new SpigotViewerGroup(Collections.newSetFromMap(new WeakHashMap&lt;&gt;()));

        private BukkitTask cprTask;

        public void initialize(JavaPlugin plugin) {
            if (cprTask != null)
                return;

            cprTask = new BukkitRunnable() {
                @Override
                public void run() {
                    heartbeat();
                }
            }.runTaskTimer(plugin, 0, 1);
        }

        public void heartbeat() {
            for (SpigotDisplayTeam team : teams.values())
                team.heartbeat();
        }

        public void disable() {
            if (cprTask != null)
                cprTask.cancel();

            cprTask = null;

            for (SpigotDisplayTeam team : teams.values())
                team.delete();

            teams.clear();
        }

        public DisplayTeam&lt;Player&gt; getTeam(Rank rank) {
            return teams.computeIfAbsent(formatTeamName(
                    9999 - rank.getPriority(),
                    rank.name()
            ), key -&gt; new SpigotDisplayTeam(key, group));
        }

        public void addViewer(Player player) {
            group.add(player);
        }

    }
</div><p id="-bycvv6_19">Here is how we create prefixes in tab and above head</p><div class="code-block" data-lang="java" data-disable-link-processing="true">    public enum Rank {
        DEFAULT(0, &quot;§7&quot;),
        VIP(10, &quot;§a§lVIP &quot;),
        HELPER(100, &quot;§9§lHELPER &quot;),
        ADMIN(300, &quot;§4§lADMIN &quot;),
        OWNER(500, &quot;§c§lOWNER &quot;);

        private final int priority;
        private final String prefix;

        Rank(int priority, String prefix) {
            this.priority = priority;
            this.prefix = prefix;
        }

        public int getPriority() {
            return priority;
        }

        public String getPrefix() {
            return prefix;
        }
    }
</div><div class="code-block" data-lang="java" data-disable-link-processing="true">    // We will want to call that at start
    public void createRankTeams() {
        TeamManager teamManager = getTeamManager();

        for (Rank rank : Rank.values())
            teamManager.getTeam(rank)
                    .setPrefix(Observable.immutable(Component.text(rank.getPrefix())));

    }
</div><p id="-bycvv6_22"><sub class="subscript" id="-bycvv6_23">We also need to add the players as viewers and parts of the team</sub></p><div class="code-block" data-lang="java" data-disable-link-processing="true">    @EventHandler
    public void onJoin(PlayerJoinEvent event) {
        Player player = event.getPlayer();
        TeamManager manager = getTeamManager();

        manager.getTeam(getRank(player))
                .addEntity(player.getName());
        manager.addViewer(player);
    }
</div></section><section class="chapter"><h2 id="sorting-tab-list" data-toc="sorting-tab-list">Sorting Tab-list</h2><p id="-bycvv6_25">In Minecraft, the <span class="control" id="-bycvv6_26">tab list</span> <sub class="subscript" id="-bycvv6_27">(player list)</sub> can be sorted using teams, where the team name determines the sort priority.</p><section class="chapter"><h3 id="how-tab-list-sorting-works" data-toc="how-tab-list-sorting-works">🔍 How Tab List Sorting Works</h3><p id="-bycvv6_28">Minecraft sorts players in the tab list based on their <span class="control" id="-bycvv6_29">team name in lexicographical (alphabetical) order</span>. Players on teams with names that come earlier in the alphabet will appear higher in the list.</p><p id="-bycvv6_30">To control priority using numbers, you can <span class="control" id="-bycvv6_31">prefix team names with numbers</span>, such as <code class="code" id="-bycvv6_32">&quot;0001_team&quot;</code>, <code class="code" id="-bycvv6_33">&quot;0002_team&quot;</code>, etc. Lower numbers = higher priority in the tab list.</p></section><section class="chapter"><h3 id="code-snippet" data-toc="code-snippet">Code snippet</h3><div class="code-block" data-lang="java" data-disable-link-processing="true">    /**
     * Formats an int priority into a Minecraft team name like &quot;0001_Team&quot;
     * @param priority The integer priority (e.g., 1, 2, 10).
     * @param name Optional team suffix or label (e.g., &quot;Admin&quot;, &quot;Mod&quot;). Can be null or empty.
     * @return A formatted team name string like &quot;0001_Admin&quot;.
     */
    public static String formatTeamName(int priority, String name) {
        String formated = String.format(&quot;%04d&quot;, priority);

        if (name == null || name.isEmpty())
            return formated;

        return formated + &quot;_&quot; + name;
    }
</div></section><section class="chapter"><h3 id="notes" data-toc="notes">Notes</h3><p id="-bycvv6_35">For <span class="control" id="-bycvv6_36">LuckPerms</span> we would like to invert the number because their priority go up for example <code class="code" id="-bycvv6_37">MAX_PRIORITY - priority</code>, where max priority has to be higher than or equal to the highest configured priority in the system</p></section></section><div class="last-modified">Last modified: 07 July 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="scoreboard-api.html" class="navigation-links__prev">📊 Scoreboard Api</a><a href="spaces.html" class="navigation-links__next">🚀 Space api</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>